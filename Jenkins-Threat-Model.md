In a nutshell, Jenkins is the leading open-source automation server. Built with Java, it provides over 1,800 plugins to support automating virtually anything, so that humans can spend their time doing things machines cannot.

## [What to Use Jenkins for and When to Use It](#what-to-use-jenkins-for-and-when-to-use-it)

Use Jenkins to automate your development workflow, so you can focus on work that matters most. Jenkins is commonly used for:

- Building projects
- Running tests to detect bugs and other issues as soon as they are introduced
- Static code analysis
- Deployment

Execute repetitive tasks, save time, and optimize your development process with Jenkins.

## [Threat Model](#threat-model)

![[Pasted image 20230928175807.png]]

### Components
         

|   |
|---|
|Deployement servers 1, 2|
|Jenkins Server|
|Internal User (with Read/Write/Execute Access)|
|External User (with Read-only Access)|
|Command/Config Data Store|
### Functions
         

|                                                                                                                        |
| ---------------------------------------------------------------------------------------------------------------------- |
| **Authentication Data**: Provided by the different types of users to Jenkins Server, where server checks in data store |
| **Read-Only Authentication Confirmation**: Provided to users, accessing from outside the Internal Trust Boundary       |
| **Authentication Confirmation:** Provided to internal users, with complete access                                      |
| **Status Check for deployment**: Check status of Deployment servers                                                    |
| **Status**: Result of deployment check/commands run                                                                    |
| **Deployment Commands**: Jenkins Runs Command on the Deployment server, using SSH                                      |
| **Get Configuration/ Commands**: Jenkins queries the stored config/commands                                            |
| **Result**: Output of the Jenkins query, catered by Data store                                                         |
| **SSH (run commands)**: Jenkins Server takes ssh connection onto deployment servers and runs commands                  |



### Technologies used:
         

|   |
|---|
|Java (version 8)|
|Firewall (FortiGate)|
|Linux Server (Ubuntu 20.04)|
|Configuration Database like MySQL, H2|
|UI for Jenkins Server: running with Jetty server|
|Network Protocol used: SSH, VPN tunnel through firewall, HTTPS(For browser based access to UI)|

### Tests done during Security Profiling
         

|   |   |
|---|---|
|Input validation|·         Are commands passed by external user, validated?<br><br>·         Commands passed by internal user, validated?<br><br>·         Username/Passwords, validation to check if it’s not a Query Attack|
|Authentication|·         Are credentials secured if they are passed over the network like via VPN?<br><br>·         Are strong account policies used?<br><br>·         Are strong passwords enforced?<br><br>·         Are password verifiers (using one-way hashes) used for user passwords?|
|VPN Authentication|·         What are security policies at Firewall level?<br><br>·         Is the Firewall updated with latest threat information constantly?|
|Configuration management|·         How is remote administration secured?<br><br>·         What configuration stores are used and how are they secured?<br><br>·         Is the data store storing, authentication information and other information at same auth level?<br><br>·         If so, how is authentication information secured?|
|Session management|·         How are session cookies generated?<br><br>·         How are they secured to prevent session hijacking?<br><br>·         How are commands provided by user monitored?<br><br>·         How is session state secured as it crosses the network?<br><br>·         When session is created by Jenkins server, is it visible to users?|
|Result Validation|·         Is the output (like status, result) validated, to not output any sensitive information?|
|Exception management|·         How does the application handle error conditions?<br><br>·         Are exceptions ever allowed to propagate back to the client?|
|Auditing and logging|·         Does the application audit on all servers?<br><br>·         Are there audits available for all the vpn access and Authentication requests?<br><br>·         How are log files secured?<br><br>·         Can the log files be edited by users? Or only by the application?|

### Possible Attacks

         

|   |   |
|---|---|
|·         DDoS Attack Pattern|**Goal:** Disrupt service/Functioning of the service<br><br>**Precondition:** Attacker executes multiple requests on the server<br><br>**Attack:**<br><br>**_AND_**       1. Identifies whether the server is susceptible to DDoS type of attacks.<br><br>2. Identify how horizontally scalable the server is.<br><br>3. Define what aspect of server to attack from following:<br><br>·       bandwidth overload<br><br>·       system resource overload<br><br>·       exploitation of software errors and security gaps<br><br>4. Create chain of parallel requesting servers<br><br>5. Execute the attacks<br><br>**Postcondition:** Target system’s services or performance is disrupted|
|·         Buffer overflow attack|**Goal**: Exploit buffer overflow vulnerability to perform malicious function on<br><br>target system<br><br>**Precondition**: The adversary identifies the program/process in Jenkins server to perform the buffer overflow on.<br><br>**Attack:**<br><br>**AND**<br><br>·       Provide large input to a program and observe the behavior. If there is a crash, this means that a buffer overflow attack is possible.<br><br>·       The adversary crafts the content to be injected.<br><br>·       Execute the attacks<br><br>**Postcondition:** the adversary injects the crafted overflow content into the buffer.|
|·         SQL injection|**Goal**: Exploit SQL db/ data-stores queries run by the Jenkins server, to get more privileged information<br><br>**Precondition**: The adversary identifies way data is being queried and what technology is being used.<br><br>**Attack:**<br><br>**AND**<br><br>·       Craft a sql query or part of it, that can run two parts in single input.<br><br>·       Input the query into the input box<br><br>·       Execute<br><br>**Postcondition:** The adversary runs sql query on the db of the data-store.|
|·         Privilege Escalation through improper authorization|**Goal**: Privilege Escalation through improper authorization<br><br>**Precondition**: The adversary identifies way to manipulate server, in giving him the administrator access<br><br>**Attack:**<br><br>**AND**<br><br>·       Craft the exploit<br><br>·       Execute<br><br>**Postcondition:** The adversary gets administrative access to the server.
|·         Session Sniffing|**Goal**: to exploit the web session control mechanism<br><br>**Precondition**: The web session, needs to be token based<br><br>**Attack:**<br><br>**AND**<br><br><br>·       attacker uses a sniffer to capture a valid token session<br><br>·       they use the valid token session to gain unauthorized access to the Web Server<br><br>Postcondition: The adversary gets unauthorized access to the server.|

### Threat Prioritization

         

|                        |                                                                                                                                 |
| ---------------------- | ------------------------------------------------------------------------------------------------------------------------------- |
| **Threat Description** | **Attacker gets remote-code execution option, through buffer overflow attack**                                                  |
| Threat target          | Web applications                                                                                                                |
| Risk                   | High                                                                                                                            |
| Attack techniques      | Use of extremely large inputs                                                                                                   |
| Countermeasures        | Validate all inputs                                                                                                             |
| **Threat Description** | **Attacker gets administrative access, through improper security configuration**                                                |
| Threat target          | Web applications                                                                                                                |
| Risk                   | High                                                                                                                            |
| Attack techniques      | Exploits                                                                                                                        |
| Countermeasures        | Validate all configurations frequently, and provide no configuration to be updated via user-input that allow mis-configurations |
| **Threat Description** | **Attacker accesses the server with some other users session**                                                                  |
| Threat target          | Other users’ session                                                                                                            |
| Risk                   | Medium                                                                                                                          |
| Attack techniques      | MITM                                                                                                                            |
| Countermeasures        | Provide all network-based connections via SSL tunnel                                                                            |
| **Threat Description** | **View Sensitive information without any authorization**                                                                        |
| Threat target          | Data stores                                                                                                                     |
| Risk                   | Medium                                                                                                                          |
| Attack techniques      | SQL injection                                                                                                                   |
| Countermeasures        | Validate all inputs                                                                                                             |
| **Threat Description** | **Service disruption**                                                                                                          |
| Threat target          | Web Servers                                                                                                                     |
| Risk                   | Low                                                                                                                             |
| Attack techniques      | DDoS                                                                                                                            |
| Countermeasures        | Request validation                                                                                                              |
